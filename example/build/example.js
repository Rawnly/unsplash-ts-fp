var H=Object.create;var f=Object.defineProperty,J=Object.defineProperties,M=Object.getOwnPropertyDescriptor,W=Object.getOwnPropertyDescriptors,X=Object.getOwnPropertyNames,S=Object.getOwnPropertySymbols,Y=Object.getPrototypeOf,F=Object.prototype.hasOwnProperty,Z=Object.prototype.propertyIsEnumerable;var w=(r,o,e)=>o in r?f(r,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[o]=e,L=(r,o)=>{for(var e in o||(o={}))F.call(o,e)&&w(r,e,o[e]);if(S)for(var e of S(o))Z.call(o,e)&&w(r,e,o[e]);return r},A=(r,o)=>J(r,W(o)),tt=r=>f(r,"__esModule",{value:!0});var rt=(r,o,e)=>{if(o&&typeof o=="object"||typeof o=="function")for(let i of X(o))!F.call(r,i)&&i!=="default"&&f(r,i,{get:()=>o[i],enumerable:!(e=M(o,i))||e.enumerable});return r},n=r=>rt(tt(f(r!=null?H(Y(r)):{},"default",r&&r.__esModule&&"default"in r?{get:()=>r.default,enumerable:!0}:{value:r,enumerable:!0})),r);var K=n(require("fp-ts/lib/function")),B=n(require("fp-ts/Either"));var l=n(require("fp-ts/lib/function")),p=n(require("fp-ts/Reader")),x=n(require("fp-ts/TaskEither")),a=n(require("io-ts"));var q=n(require("axios")),g=n(require("fp-ts/Reader")),G=n(require("fp-ts/Either")),P=n(require("fp-ts/TaskEither"));var U=n(require("querystring")),h=n(require("fp-ts/lib/Array")),v=n(require("fp-ts/lib/Record")),y=n(require("fp-ts/Reader")),R=n(require("fp-ts/function"));var D=r=>o=>r?o+"?"+r:o;var ot=(r,o)=>e=>e.replace(r,o),I=r=>{let o={};return(0,R.pipe)(y.ask(),y.map(e=>(0,R.pipe)(e,ot(/:(\w+)/g,(i,u)=>(o[u]=!0,r[u])),(0,R.pipe)(r,v.keys,h.filter(i=>!o[i]&&r[i]!==void 0),h.reduce({},(i,u)=>A(L({},i),{[u]:r[u]})),U.default.stringify,D))))};var E=n(require("fp-ts/lib/function")),et=q.default.create({baseURL:"https://api.unsplash.com"}),b=r=>(0,E.pipe)(g.ask(),g.map(o=>(0,E.pipe)(g.ask(),g.map(e=>(0,E.pipe)(r,I(o!=null?o:{}),P.tryCatchK(i=>et.get(i,st(e)),G.toError),P.map(i=>i.data)))))),st=r=>({headers:{Authorization:`Client-ID ${r.clientId}`}});var s=n(require("io-ts")),c=n(require("fp-ts/Either")),d=n(require("fp-ts/lib/function")),Rt=new s.Type("StringFromArray",r=>typeof r=="string",(r,o)=>(0,d.pipe)(s.array(s.string).validate(r,o),c.chain(e=>{let i=e.join(",");return i.length>1?s.success(i):s.failure(e,o)})),r=>r.split(",")),_=new s.Type("ArrayFromString",r=>s.array(s.string).is(r),(r,o)=>(0,d.pipe)(s.string.validate(r,o),c.chain(e=>{let i=e.split(",");return i.length>1?s.success(i):s.failure(e,o)})),r=>r.join(",")),O=new s.Type("PhotosCount",s.number.is,(r,o)=>(0,d.pipe)(s.number.validate(r,o),c.chain(e=>e>=1&&e<=30?s.success(e):s.failure(e,o))),s.number.encode),k=new s.Type("DateFromString",r=>r instanceof Date,(r,o)=>(0,d.pipe)(s.string.validate(r,o),c.chain(e=>{let i=new Date(e);return i.toString()==="Invalid Date"?s.failure(e,o):s.success(i)})),r=>r.toLocaleString()),Pt=new s.Type("FloatFromString",s.number.is,(r,o)=>(0,d.pipe)(s.string.validate(r,o),c.chain(e=>{let i=parseFloat(e);return isNaN(i)?s.failure(e,o):s.success(i)})),r=>r.toString());var t=n(require("io-ts"));var m=n(require("io-ts")),$=m.type({title:m.string}),C=m.type({self:m.string,html:m.string});var it=t.type({make:t.string,model:t.string,exposure_time:t.string,aperture:t.string,focal_length:t.string,iso:t.number}),nt=t.type({city:t.string,country:t.string,position:t.type({latitude:t.number,longitude:t.number})}),at=t.type({id:t.number,title:t.string,published_at:t.string,last_collected_at:t.string,updated_at:t.string,cover_photo:t.null,user:t.null}),pt=t.type({id:t.string,username:t.string,name:t.string,portfolio_url:t.union([t.string,t.null]),bio:t.string,location:t.string,total_likes:t.number,total_photos:t.number,total_collections:t.number,instagram_username:t.union([t.string,t.null]),twitter_username:t.union([t.string,t.null]),profile_image:t.type({small:t.string,medium:t.string,large:t.string}),links:t.intersection([C,t.type({photos:t.string,likes:t.string,portfolio:t.string})])}),T=t.type({id:t.string,created_at:k,updated_at:k,width:t.number,height:t.number,color:t.string,blur_hash:t.string,downloads:t.number,likes:t.number,liked_by_user:t.boolean,description:t.union([t.string,t.null]),exif:it,location:nt,tags:t.array($),current_user_collections:t.array(at),urls:t.type({raw:t.string,full:t.string,regular:t.string,small:t.string,thumb:t.string}),links:t.intersection([C,t.type({download:t.string,download_location:t.string})]),user:pt});var lt=a.partial({collections:_,topics:_,username:a.string,orientation:a.union([a.literal("landscape"),a.literal("portrait"),a.literal("squarish")]),content_filter:a.union([a.literal("low"),a.literal("high")]),count:O}),Lt=a.partial({page:a.number,per_page:a.number,order_by:a.number}),j=(r={})=>(0,l.pipe)(p.ask(),p.map((0,l.pipe)(r,b("/photos"))),p.chainFirst(x.map(a.array(T).decode))),V=r=>(0,l.pipe)(p.ask(),p.map((0,l.pipe)({id:r},b("/photos/:id"))),p.chainFirst(o=>(0,l.pipe)(o,x.map(e=>T.decode(e))))),N=(r={count:1})=>(0,l.pipe)(p.ask(),p.map((0,l.pipe)(r,lt.encode,b("/photos/random"))),p.chainFirst(x.map(a.array(T).decode)));var Q=class{constructor(o){this.clientId=o;this.photos={all:o=>j(o)(this.credentials),random:o=>N(o)(this.credentials),get:o=>V(o)(this.credentials)}}get credentials(){return{clientId:this.clientId}}},z=Q;var mt=new z("e16e0a00f80aa7f1d491201d5db32bfdfd801d9be57b05a2b959436432e55d71"),gt=(0,K.pipe)({count:1},mt.photos.random);(async()=>{let r=await gt();if(B.isRight(r)){let{right:o}=r;console.log(`${o.length} Photos`);for(let e of o)console.log(`${e.id} by @${e.user.username}`)}else console.log("Error",r.left)})();
//# sourceMappingURL=example.js.map
